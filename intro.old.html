<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Intro Screen</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <audio id="audio" autoplay hidden loop>
        <source src="BGM.mp3" type="audio/mp3">
    </audio>
    <div class="intro desktop" id="intro-desktop" onclick="transitionDesktop()">
        <div class="text-container">
            <h1 style="font-size: 28px;">Birthday Dinner of</h1>
            <h1 style="font-size: 42px;">CLARISSA ANGELIA</h1>
            <p style="font-size: 25px;">25.08.2024</p>
            <h2 id="guest-dear-desktop" style="font-size: 20px; margin-top: 20px;">Dear:</h2>
            <h2 id="guest-name-desktop" style="font-size: 30px;"></h2>
            <p id="valid-for-desktop" style="font-size: 20px;"></p>
        </div>
    </div>
    <div class="intro mobile" id="intro-mobile" onclick="transitionMobile()">
        <div class="text-container" id="text-container-mobile">
            <h1 style="font-size: 20px; text-shadow: 1px 1px 2px #000;">Birthday Dinner of</h1>
            <h1 style="font-size: 25px; text-shadow: 1px 1px 2px #000;">CLARISSA ANGELIA</h1>
            <h2 id="guest-name-mobile" style="font-size: 18px; text-shadow: 1px 1px 2px #000;"></h2>
            <p style="font-size: 15px; text-shadow: 1px 1px 2px #000;">25.08.2024</p>
            <p id="valid-for-mobile" style="font-size: 12px; text-shadow: 1px 1px 2px #000;"></p>
        </div>
        <div class="intro left" id="intro-left"></div>
        <div class="intro right" id="intro-right"></div>
    </div>
    <div class="main-container" id="main-container">
        <div class="image-filler" id="image-filler"></div>
        <div class="main-page" id="main-page">
            <h1>Welcome to the Main Page</h1>
        </div>
    </div>
    <script>
        function getQueryParameter(name) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(name);
        }

        function setGuestName() {
            const guestName = getQueryParameter('to');
            if (guestName) {
                document.getElementById('guest-name-desktop').innerText = guestName;
                document.getElementById('guest-name-mobile').innerText = `Dear: ${guestName}`;
                document.getElementById('valid-for-desktop').innerText = "Valid for 1 person";
                document.getElementById('valid-for-mobile').innerText = "Valid for 1 person";
            }
        }

        function transitionDesktop() {
            const introDesktop = document.getElementById('intro-desktop');
            const mainContainer = document.getElementById('main-container');
            introDesktop.classList.add('slide-up');
            setTimeout(() => {
                introDesktop.style.display = 'none';
                mainContainer.style.display = 'flex';
            }, 1000);
        }

        function transitionMobile() {
            const textContainerMobile = document.getElementById('text-container-mobile');
            const introLeft = document.getElementById('intro-left');
            const introRight = document.getElementById('intro-right');
            const mainContainer = document.getElementById('main-container');
            textContainerMobile.classList.add('fade-out');
            setTimeout(() => {
                textContainerMobile.style.display = 'none';
                introLeft.classList.add('open-door-left');
                introRight.classList.add('open-door-right');
                setTimeout(() => {
                    introLeft.style.display = 'none';
                    introRight.style.display = 'none';
                    mainContainer.style.display = 'flex';
                }, 1000);
            }, 1000);
        }

        document.addEventListener('click', function() { document.getElementById('audio').play() }, { once: true });

        window.onload = setGuestName;
    </script>
</body>
</html>
